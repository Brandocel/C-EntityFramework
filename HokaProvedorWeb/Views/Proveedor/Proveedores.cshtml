@model List<HokaProvedorWeb.Models.ProveedorViewModel>

@{
    ViewBag.Title = "Proveedores";
}

<h1>@ViewBag.Title</h1>

<form asp-action="Search" asp-controller="Proveedor" method="post">
    <div>
        <label for="fechaInicio">Fecha Inicio:</label>
        <input type="date" id="fechaInicio" name="fechaInicio" />
    </div>
    <div>
        <label for="fechaFin">Fecha Fin:</label>
        <input type="date" id="fechaFin" name="fechaFin" />
    </div>
    <div>
        <label for="proveedorNombre">Proveedor:</label>
        <select id="proveedorNombre" name="proveedorNombre">
            <option value="todos">Todos</option>
            @foreach (var proveedor in ViewBag.ListaProveedores as List<SelectListItem>)
            {
                <option value="@proveedor.Value">@proveedor.Text</option>
            }
        </select>
    </div>
    <div>
        <label for="formaPago">Forma de Pago:</label>
        <select id="formaPago" name="formaPago">
            <option value="">Seleccionar</option>
            <option value="Efectivo">Efectivo</option>
            <option value="Transferencia">Transferencia</option>
        </select>
    </div>
    <button type="submit">Buscar</button>
</form>

<table>
    <thead>
        <tr>
            <th>Proveedor</th>
            <th>Razón Social</th>
            <th>Total</th>
            <th>Abono</th>
            <th>Fecha Factura</th>
            <th>Fecha Vencimiento</th>
            <th>UUID</th>
            <th>Forma de Pago</th>
        </tr>
    </thead>
    <tbody>
        @if (Model != null && Model.Count > 0)
        {
            foreach (var proveedor in Model)
            {
                <tr>
                    <td>@proveedor.Provedor</td>
                    <td>@proveedor.NombreRazonSocial</td>
                    <td>@proveedor.Total?.ToString("C")</td>
                    <td>@proveedor.Abono?.ToString("C")</td>
                    <td>@proveedor.FechaFactura?.ToShortDateString()</td>
                    <td>@proveedor.FechaVencimiento?.ToShortDateString()</td>
                    <td>@proveedor.UUID</td>
                    <td>@proveedor.FormaPago</td>
                </tr>
            }
        }
        else
        {
            <tr>
                <td colspan="8">No se encontraron resultados.</td>
            </tr>
        }
    </tbody>
</table>
